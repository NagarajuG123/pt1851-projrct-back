<div
  class="c-video-section--wrapper sidebar-blur"
  *ngIf="isLoaded && data"
  [ngClass] = "type =='video' ? '' : 'bgGray'"
>
  <div class="container customContainer">
    <div class="row">
      <div class="col-12">
        <div class="align-items-center">
          <div class="align-items-end">
            <h2 *ngIf="type === 'specialFeature'" class="sectionTitle py-3 m-0 text-white">{{ title }}
              <span class="timeStamp">See More <fa-icon [icon]="faAngleRight" class="fa-icon"></fa-icon></span>
            </h2>
            <h2 *ngIf="type === 'video'" class="sectionTitle py-3 m-0">Videos  
              <span *ngIf="type === 'video'" class="c-section-header--subInfo py-3"> Covering the franchise industry
              <span class="timeStamp">See More <fa-icon [icon]="faAngleRight" class="fa-icon"></fa-icon></span>
            </span> </h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <hr>

  <div class="container customContainer">
    <div class="d-flex row c-video-section--boxWrapper">
      <div
        class="c-video-section--box col-lg-6 col-sm-6"
        *ngFor="let item of data | slice: 0:2; index as i"
      >
        <div class="position-relative">
          <div *ngIf="type === 'video'" class="tag text-center position-absolute top-0 text-uppercase">
            FEATURED Video
          </div>
          <a
            *ngIf="item?.media"
            (click)="openVideoPlayer = true"
            attr.data-src="{{ item.media.url }}"
            data-bs-target="#videoModal"
            data-bs-toggle="modal"
            (click)="updateVideoUrl(item.media.url)"
            href="#"
            class="
              video-btn
              c-video-section--playBtn
              d-flex
              justify-content-center
              align-items-center
            "
          >
            <img
              data-src="{{ item.media | defaultImage: 1280:720 }}"
              class="w-100 img-fluid lazyload"
              alt="video"
              width="550"
              height="304"
              loading="lazy"
            />
            <img
              data-src="{{ s3Url }}videoIcon.png"
              alt="Play"
              class="img-fluid vide-play lazyload"
              loading="lazy"
            />
          </a>
          <h2 [ngClass] = "type =='video' ? '' : 'text-white'">
            {{ item.title }}
          </h2>
        </div>
      </div>
    </div>

    <div class="c-video-slider--wrapper d-flex row">
      <div id="carouselExampleControls" class="carousel carousel-dark">
        <div class="carousel-inner w-100" role="listbox">
          <ng-container
            *ngFor="let item of data | slice: 2:10; index as i"
          >
            <div class="carousel-item" [ngClass]="{ active: i === 0 }">
              <div class="col-md-3 px-1">
                <a
                  *ngIf="item?.media"
                  attr.data-src="{{ item.media.url }}"
                  data-bs-target="#videoModal"
                  data-bs-toggle="modal"
                  (click)="updateVideoUrl(item.media.url)"
                  href="#"
                  class="
                    video-btn
                    c-video-section--playBtn
                    d-flex
                    align-items-center
                  "
                >
                  <img
                    data-src="{{ item.media | defaultImage: 1280:720 }}"
                    class="img-fluid lazyload video-img"
                    width="225"
                    height="131"
                    alt="video"
                    loading="lazy"
                  />
                  <img
                    data-src="{{ s3Url }}videoIcon.png"
                    alt="Play"
                    class="img-fluid vide-play lazyload"
                    loading="lazy"
                  />
                </a>
                <h3 [ngClass] = "type =='video' ? '' : 'text-white'" class="articleTitles align-items-center">
                  {{ item.title }}
                </h3>
              </div>
            </div>
          </ng-container>
        </div>

        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleControls"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleControls"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <div
      class="modal fade"
      id="videoModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      (click)="openVideoPlayer = true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-body">
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
              (click)="openVideoPlayer = false"
            ></button>
            <iframe
              [src]="url | safeUrl"
              frameborder="0"
              width="100%"
              height="496px"
              allowfullscreen
            >
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
