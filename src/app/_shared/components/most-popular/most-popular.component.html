<div
  class="most-popular sidebar-blur"
  *ngIf="isLoaded"
  [ngClass]="type == 'brand' ? 'brand-most-popular' : ''"
>
  <div class="container customContainer">
    <h2 class="py-3 m-0 text-white">MOST POPULAR</h2>
  </div>
  <hr class="m-0 mb-4" />
  <div class="container customContainer">
    <div class="row d-none d-sm-flex" *ngIf="type == 'home'">
      <div class="col col-sm-4" *ngFor="let item of data; index as i">
        <a
          routerLink="/{{ commonService.readMore(item) }}"
          fragment="trending"
          class="text-black"
        >
          <div class="slideItem" *ngIf="i < 3; else elseBlock">
            <img
              appYoutubeImage
              width="380px"
              height="223px"
              data-src="{{ item.media | defaultImage: 380:223 }}"
              data-srcset="{{ item.media | defaultImage: 238:133 }} 238w, {{
                item.media | defaultImage: 300:168
              }} 300w, 
          {{ item.media | defaultImage: 400:224 }} 400w, {{
                item.media | defaultImage: 555:310
              }} 555w"
              data-sizes="{{
                '(max-width: 576px) 555px,
              (max-width: 992px) 400px,
              (max-width: 1200px) 238px,
              300px'
              }}"
              alt="most-popular"
              loading="lazy"
              class="lazyload"
            />
            <div class="slide-body position-relative primary-bg px-3 d-block">
              <span
                class="
                  position-absolute
                  top-0
                  start-0
                  bg-white
                  primary-color
                  d-flex
                  align-items-center
                  justify-content-center
                "
                >POPULAR</span
              >
              <h2 class="position-relative ps-4 text-white">
                <span class="position-absolute top-0 start-0">{{ i + 1 }}</span>
                <strong class="ms-3 d-block">
                  {{ item.title }}
                </strong>
              </h2>
            </div>
            <div
              class="
                slide-footer
                primary-bg-1
                d-flex
                flex-row-reverse
                py-1
                px-2
              "
            >
              <a class="text-white"
                >READ MORE
                <fa-icon
                  [icon]="faAngleRight"
                  class="ng-fa-icon fa-icon"
                ></fa-icon>
              </a>
            </div>
          </div>
          <ng-template #elseBlock>
            <div class="subSlideItem px-md-3">
              <div class="slide-body position-relative px-3 d-block">
                <div class="position-relative ps-4">
                  <span class="position-absolute top-0 start-0 primary-color">{{
                    i + 1
                  }}</span>
                  <h3 class="mb-0 ms-3 d-block">
                    {{ item.title }}
                  </h3>
                  <small
                    class="ms-3 text-black"
                    *ngIf="commonService.authorName(item)"
                    >By {{ item?.author?.name }}
                  </small>
                  <p class="ms-3">
                    {{ item.short_description }}
                  </p>
                </div>
              </div>
            </div>
          </ng-template>
        </a>
      </div>
    </div>

    <owl-carousel-o
      [options]="customOptions"
      class="position-relative"
      [ngClass]="type == 'brand' ? 'brand-carousel' : 'd-sm-none'"
    >
      <ng-template carouselSlide *ngFor="let item of data; index as i">
        <a routerLink="/{{ commonService.readMore(item) }}" fragment="trending">
          <div class="slideItem col-md-4">
            <img
              appYoutubeImage
              data-srcset="{{ item.media | defaultImage: 238:133 }} 238w, {{
                item.media | defaultImage: 300:168
              }} 300w, 
          {{ item.media | defaultImage: 400:224 }} 400w, {{
                item.media | defaultImage: 555:310
              }} 555w"
              class="lazyload"
              data-sizes="{{
                '(max-width: 576px) 555px,
              (max-width: 992px) 400px,
              (max-width: 1200px) 238px,
              300px'
              }}"
              width="380px"
              height="223px"
              data-src="{{ item.media | defaultImage: 380:223 }}"
              alt="most-popular"
              loading="lazy"
            />
            <div class="slide-body position-relative primary-bg px-3 d-block">
              <span
                class="
                  position-absolute
                  top-0
                  start-0
                  bg-white
                  primary-color
                  d-flex
                  align-items-center
                  justify-content-center
                "
                >POPULAR</span
              >
              <h2 class="position-relative ps-4 text-white">
                <span class="position-absolute top-0 start-0">{{ i + 1 }}</span>
                <strong class="ms-3 d-block">{{ item.title }}</strong>
              </h2>
            </div>
            <div
              class="
                slide-footer
                primary-bg-1
                d-flex
                flex-row-reverse
                py-1
                px-2
              "
            >
              <a class="text-white"
                >READ MORE
                <fa-icon
                  [icon]="faAngleRight"
                  class="ng-fa-icon fa-icon"
                ></fa-icon
              ></a>
            </div>
          </div>
        </a>
      </ng-template>
    </owl-carousel-o>
  </div>
</div>
