<!-- Uncomment this if you want to close menu bar on click outside menu -->
<!-- <div
  [ngClass]="common.showmenu ? 'closeMenu' : ''"
  (click)="common.toggle()"
></div> -->
<div
  *ngIf="isMain"
  class="menu-details"
  [ngClass]="common.showmenu ? 'show' : ''"
>
  <div class="menu-logo text-center">
    <a routerLink="/">
      <figure>
        <img
          class="logo-img"
          src="{{ sidebar.logo }}"
          width="{{ publication.id === 'EE' ? 200 : 53 }}"
          height="53"
          alt="logo"
        />
      </figure>
    </a>
  </div>
  <div class="menu-search">
    <form [formGroup]="searchForm" (ngSubmit)="onSearchSubmit(searchForm)">
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          [placeholder]="sidebar?.search?.placeholder"
          FormControlName="searchInput"
        />
        <button type="button" (click)="onSearchSubmit(searchForm)">
          <i class="fa fa-search" aria-hidden="true"></i>
        </button>
      </div>
    </form>
  </div>
  <div class="monthly-covers">
    <ul>
      <li class="d-block">
        <div class="monthly-covers-main">
          <a routerLink="/monthlycovers">
            <figure>
              <i class="fa fa-database"></i>
            </figure>
            <strong>MONTHLY COVERS</strong>
          </a>
          <div class="monthly-covers-details monthly-covers-details1">
            <a href="{{ sidebar['monthly-cover']?.url }}">
              <figure>
                <img
                  appYoutubeImage
                  src="{{
                    sidebar['monthly-cover']?.media | defaultImage: 97:127
                  }}"
                  width="97"
                  height="127"
                  alt="monthly cover"
                />
              </figure>
            </a>
          </div>
        </div>
        <div class="monthly-covers-main">
          <a class="cursor-default" href="javascript:;">
            <figure>
              <i class="fa fa-server"></i>
            </figure>
            <strong>{{ sidebar?.category?.label }}</strong>
          </a>
          <div class="monthly-covers-details">
            <p *ngFor="let item of sidebar?.category?.items">
              <a routerLink="{{ item.url.replace('+', '-') }}">{{
                item.title
              }}</a>
            </p>
          </div>
        </div>
      </li>
      <li *ngIf="sidebar['awards']" class="d-block">
        <div class="monthly-covers-main">
          <a class="cursor-default" href="javascript:;">
            <figure>
              <i class="fa fa-trophy"></i>
            </figure>
            <strong>AWARDS</strong>
          </a>
          <div class="monthly-covers-details">
            <p *ngFor="let item of sidebar['awards']">
              <a href="{{ item?.url }}">{{ item?.title }}</a>
            </p>
          </div>
        </div>
        <div class="monthly-covers-main" *ngIf="sidebar['power-rankings']">
          <a href="{{ sidebar['power-rankings']?.url }}">
            <figure>
              <i class="fa fa-star"></i>
            </figure>
            <strong>POWER RANKINGS</strong>
          </a>
        </div>
      </li>
      <li class="d-block">
        <div class="monthly-covers-main">
          <a href="{{ sidebar['about-1851']?.url }}">
            <figure>
              <i class="fa fa-question-circle"></i>
            </figure>
            <strong
              >ABOUT
              <span>{{ publication?.shortTitle?.toUpperCase() }}</span></strong
            >
          </a>
        </div>
        <div class="monthly-covers-main">
          <a href="termsofuse#sponsored">
            <figure>
              <i class="fa fa-usd"></i>
            </figure>
            <strong>SPONSORED CONTENT</strong>
          </a>
        </div>
        <div class="monthly-covers-main">
          <a href="about#tellus">
            <figure>
              <i class="fa fa-rss"></i>
            </figure>
            <strong
              >ADVERTISE ON
              <span>{{ publication?.shortTitle?.toUpperCase() }}</span></strong
            >
          </a>
        </div>
        <div class="monthly-covers-main">
          <a href="{{ sidebar['contact-editorial']?.url }}">
            <figure>
              <i class="fa fa-envelope-open"></i>
            </figure>
            <strong
              >CONTACT <span>{{ publication?.shortTitle?.toUpperCase() }}</span
              >&nbsp;<span *ngIf="publication.id != 'EE'"
                >EDITORIAL</span
              ></strong
            >
          </a>
        </div>
        <div class="monthly-covers-main">
          <a routerLink="{{ sidebar['terms-of-use']?.url }}">
            <figure>
              <i class="fa fa-list"></i>
            </figure>
            <strong>TERMS OF USE</strong>
          </a>
        </div>
      </li>
      <li class="d-block">
        <div class="monthly-covers-main">
          <a href="{{ sidebar['login']?.url }}">
            <figure>
              <i class="fa fa-home"></i>
            </figure>
            <strong>LOGIN</strong>
          </a>
        </div>
      </li>
    </ul>
  </div>
</div>

<!-- Brand -->

<div
  *ngIf="!isMain"
  class="menu-details brand-menu-details"
  [ngClass]="common.showmenu ? 'show' : ''"
>
  <div class="menu-logo text-center">
    <a routerLink="{{ brandSlug }}">
      <figure>
        <img
          class="logo-img sidebar-brand-images"
          src="{{ sidebar?.logo }}"
          alt="logo"
        />
      </figure>
    </a>
  </div>
  <div class="sponsored">
    <h6 class="d-block text-uppercase text-center">
      <small class="d-inline-block"></small>
      SPONSORED CONTENT
    </h6>
    <div class="menu-search">
      <form [formGroup]="searchForm" (ngSubmit)="onSearchSubmit(searchForm)">
        <div class="form-group">
          <input
            formControlName="searchInput"
            type="text"
            class="form-control"
            [placeholder]="sidebar?.search?.placeholder"
          />
          <button type="button" (click)="onSearchSubmit(searchForm)">
            <i class="fa fa-search" aria-hidden="true"></i>
          </button>
        </div>
      </form>
    </div>
    <div class="monthly-covers">
      <ul>
        <li class="d-block">
          <div class="monthly-covers-main">
            <a href="#">
              <figure>
                <i class="fa fa-database"></i>
              </figure>
              <strong>RETURN TO MAIN SITE</strong>
            </a>
          </div>
          <div class="monthly-covers-main">
            <a routerLink="{{ brandSlug }}">
              <figure>
                <i class="fa fa-server"></i>
              </figure>
              <strong>{{ brandTitle }}</strong>
            </a>
            <div *ngIf="downloadPdfUrl" class="monthly-covers-details">
              <p>
                <a
                  *ngIf="isPdfEmail"
                  data-bs-toggle="modal"
                  data-bs-target="#pdfModal1"
                  class="text-uppercase"
                  href=""
                >
                  Download PDF
                </a>
                <a
                  *ngIf="!isPdfEmail"
                  href="{{ downloadPdfUrl }}"
                  target="blank"
                >
                  Download PDF
                </a>
              </p>
            </div>
            <div class="monthly-covers-details">
              <p>
                <a href="{{ visitSite }}" target="blank">Visit Website</a>
              </p>
            </div>
          </div>
        </li>
        <li class="d-block">
          <div class="monthly-covers-main">
            <a href="#">
              <figure>
                <i class="fa fa-trophy"></i>
              </figure>
              <strong>SOCIAL MEDIA</strong>
            </a>
            <div
              *ngFor="let item of sidebar['social_media']"
              class="monthly-covers-details"
            >
              <p>
                <a href="{{ item.url }}" target="blank">{{ item.title }}</a>
              </p>
            </div>
          </div>
          <div class="monthly-covers-main">
            <a routerLink="{{ brandSlug }}">
              <figure>
                <i class="fa fa-star"></i>
              </figure>
              <strong>{{ brandTitle }} MOST READ STORIES</strong>
            </a>
            <div
              *ngFor="let story of sidebar['most-read-stories']"
              class="monthly-covers-details"
            >
              <p>
                <a href="{{ readMore(story) }}">{{ story?.title }}</a>
              </p>
            </div>
          </div>
        </li>
        <li class="d-block">
          <div class="monthly-covers-main">
            <a href="https://brand.1851franchise.com">
              <figure>
                <i class="fa fa-home"></i>
              </figure>
              <strong>LOGIN</strong>
            </a>
          </div>
        </li>
        <li class="d-block">
          <div class="monthly-covers-main">
            <a href="{{ sidebar['about']?.url }}">
              <figure>
                <i class="fa fa-envelope-open"></i>
              </figure>
              <strong>ABOUT {{ brandTitle }}</strong>
            </a>
          </div>
          <div *ngIf="contactForm" class="monthly-covers-main">
            <a data-bs-toggle="modal" data-bs-target="#contactModal">
              <figure>
                <i class="fa fa-usd"></i>
              </figure>
              <strong>CONTACT {{ brandTitle }}</strong>
            </a>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<div
  *ngIf="isBrowser && downloadPdfUrl"
  class="search_pop_up modal"
  id="pdfModal1"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="sponsored-modal-content">
        <button type="button" class="close text-right" data-bs-dismiss="modal">
          &times;
        </button>
        <h2 class="text-uppercase">Download PDF</h2>
        <div class="email-content">
          <form [formGroup]="pdfForm" (ngSubmit)="emailSubscribe(pdfForm)">
            <div class="form-group">
              <label>Enter Email:</label>
              <input
                type="text"
                [formControl]="pdfForm.controls['emailInput']"
                class="form-control"
              />
              <app-error-message
                *ngIf="isEmailSubmit"
                class="full-width"
                [control]="pdfForm.controls['emailInput']"
              ></app-error-message>
              <p *ngIf="emailSubValid" class="invalid">{{ emailSubMessage }}</p>
              <button type="button" (click)="emailSubscribe(pdfForm)">
                Download
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
