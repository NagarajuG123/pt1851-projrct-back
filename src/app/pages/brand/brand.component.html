<div *ngIf="type === 'brand_page'">
  <app-trending [slug]="slug"></app-trending>
  <div class="py-4">
    <app-special-feature
      [apiUrl]="specialFeatureUrl"
      [slug]="slug"
    ></app-special-feature>
    <div class="most-popular">
      <div class="container customContainer">
        <h2 class="py-3 m-0 text-white">MOST POPULAR</h2>
        <hr class="m-0 mb-4" />
        <owl-carousel-o
          [options]="customOptions"
          class="d-block position-relative brandTrending"
        >
          <ng-container *ngFor="let item of data; index as i">
            <ng-template carouselSlide [id]="item.id">
              <div class="slideItem">
                <img
                  appYoutubeImage
                  srcset="{{item.media | defaultImage:238:133}} 238w, {{item.media | defaultImage:300:168}} 300w, 
          {{item.media | defaultImage:400:224}} 400w, {{item.media | defaultImage:555:310}} 555w"
                  class="img-fluid"
                  sizes="{{
                    '(max-width: 576px) 555px,
              (max-width: 992px) 400px,
              (max-width: 1200px) 238px,
              300px'
                  }}"
                  width="380"
                  height="155"
                  data-src="{{ item.media | defaultImage: 100:95 }}"
                  alt="most-popular"
                  loading="lazy"
                />
                <div
                  class="slide-body position-relative primary-bg px-3 d-block"
                >
                  <span
                    class="
                      position-absolute
                      top-0
                      start-0
                      bg-white
                      primary-color
                      d-flex
                      align-items-center
                      justify-content-center
                    "
                    >POPULAR</span
                  >
                  <h3 class="position-relative ps-4 text-white">
                    <span class="position-absolute top-0 start-0">{{
                      i + 1
                    }}</span>
                    <strong class="ms-3 d-block">{{
                      commonService.formatTitle(item.title)
                    }}</strong>
                  </h3>
                </div>
                <div
                  class="
                    slide-footer
                    primary-bg-1
                    d-flex
                    flex-row-reverse
                    py-1
                    px-2
                  "
                >
                  <a
                    routerLink="{{ commonService.readMore(item) }}"
                    class="text-white"
                    >READ MORE ></a
                  >
                </div>
              </div>
            </ng-template>
          </ng-container>
          <div class="owl-controls">
            <div class="owl-nav">
              <div class="owl-prev">prev</div>
              <div class="owl-next">next</div>
            </div>
            <div class="owl-dots">
              <div class="owl-dot active"><span></span></div>
              <div class="owl-dot"><span></span></div>
              <div class="owl-dot"><span></span></div>
            </div>
          </div>
        </owl-carousel-o>
      </div>
    </div>
    <div class="tabs primary-bg">
      <div class="container customContainer position-relative">
        <div
          class="prev position-absolute top-50 start-0 translate-middle-y ps-3"
          [ngClass]="
            tabName.length > this.commonService.vtabsItem ? '' : 'd-none'
          "
          (click)="prev()"
        >
          <img src="assets/img/left-arrow.svg" loading="lazy" />
        </div>
        <ul class="row innerContent m-0">
          <li
            *ngFor="let item of tabName; index as i"
            class="col col-sm-6 col-md-4 col-lg border-end text-center"
            [ngClass]="
              i < this.commonService.vtabsItem + this.skipTab &&
              i >= this.skipTab
                ? 'active'
                : 'd-none'
            "
          >
            <span
              class="position-relative"
              [ngClass]="i + 1 === activeTab ? 'active' : ''"
              (click)="setActiveTab(i + 1, item)"
              >{{ item?.name }}</span
            >
          </li>
        </ul>
        <div
          class="next position-absolute top-50 end-0 translate-middle-y pe-3"
          [ngClass]="
            tabName.length > this.commonService.vtabsItem ? '' : 'd-none'
          "
          (click)="next()"
        >
          <img src="assets/img/right-arrow.svg" loading="lazy" />
        </div>
      </div>
    </div>
    <div class="tabs-container container customContainer">
      <div class="tabItemList innerContent mt-4 py-3">
        <ul class="row gx-2">
          <li class="mb-3 col-3" *ngFor="let item of items; index as i">
            <a routerLink="{{ commonService.readMore(item) }}">
              <div class="items card border-0 rounded-0">
                <img
                  appYoutubeImage
                  srcset="{{item.media | defaultImage:238:133}} 238w, {{item.media | defaultImage:300:168}} 300w, 
                {{item.media | defaultImage:400:224}} 400w, {{item.media | defaultImage:555:310}} 555w"
                  class="card-img-top img-fluid"
                  sizes="{{
                    '(max-width: 576px) 555px,
              (max-width: 992px) 400px,
              (max-width: 1200px) 238px,
              300px'
                  }}"
                  width="95"
                  height="100"
                  data-src="{{ item?.media }}"
                  alt="editorial"
                  loading="lazy"
                />
                <div class="card-body">
                  <h6
                    class="
                      card-title
                      primary-color
                      text-uppercase text-truncate
                      fw-bold
                    "
                  ></h6>
                  <h4 class="card-text mb-1">
                    <strong> {{ item?.title }}</strong>
                  </h4>
                  <h4 class="card-text mb-1">
                    {{ item?.short_description }}
                  </h4>
                  <small>{{ item.author?.name }}</small>
                </div>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <app-featured [apiUrl]="apiUrl" [slug]="slug"></app-featured>
  </div>
</div>

<div *ngIf="type === 'category_page'">
  <app-category [slug]="slug" [apiUrl]="apiUrl"></app-category>
</div>

<div *ngIf="type === 'dynamic_page'">
  <div class="banner d-flex contact-banner">
    <figure>
      <img
        *ngIf="topBlock?.media?.url"
        appYoutubeImage
        [src]="topBlock?.media?.url"
        width="1440"
        height="493"
        alt="banner"
        loading="lazy"
      />
    </figure>
    <div class="left-text d-flex col-5">
      <a routerLink="{{ commonService.readMore(dynamicFirst[0]) }}">
        <h2>{{ topBlock?.title }}</h2>
        <p>{{ topBlock?.description }}</p>
        <div class="readmore-btn">
          <button class="align-items-center">READ MORE</button>
        </div>
      </a>
    </div>
  </div>
  <div class="container customContainer py-md-4">
    <div class="row mt-2">
      <div
        class="col-sm-6 col-md-3 mb-2"
        *ngFor="let list of dynamicFirst; index as i"
      >
        <div class="items card border-0 rounded-0">
          <a
            routerLink="{{ commonService.readMore(list) }}"
            fragment="franbuzz"
            (click)="closeModal()"
            ><img
              src="{{ list.media | defaultImage: 257:138 }}"
              class="card-img-top"
              alt="story"
              width="257"
              height="138"
              loading="lazy"
            />
            <div class="card-body">
              <h2 class="card-text mb-1 text-black text-capitalize">
                {{ list.title }}
              </h2>
              <p class="card-text mb-1 text-black text-capitalize">
                {{ list.short_description }}
              </p>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="nextLine position-relative mb-5 mt-2">
    <div class="container customContainer">
      <div class="row">
        <div class="col d-none d-md-block userDetail"></div>
        <div class="col d-flex justify-content-center align-items-center">
          <div class="nextBtn px-5 bg-white">
            <img
              src="assets/img/nextIcon.svg"
              width="32"
              alt="next articles"
              class="me-3"
              (click)="getMoreDynamic()"
              loading="lazy"
            />
            <span class="gray-color" (click)="getMoreDynamic()">SEE MORE</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
